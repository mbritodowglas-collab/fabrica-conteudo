---
---
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <title>{{ page.title }} · Stories · Fábrica de Conteúdo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="{{ '/assets/css/style.css' | relative_url }}">

  <!-- OVERRIDE ESPECÍFICO DOS STORIES -->
  <style>
    /* Gatilho: página de Stories usando o layout de carrossel */
    body.fc-body--carrossel.fc-body--stories {
      background: #000;
    }

    /* Main com respiro no desktop */
    body.fc-body--carrossel.fc-body--stories .fc-main--carrossel.fc-main--stories {
      padding: 2rem;
    }

    /* LISTA DE SLIDES (desktop) */
    body.fc-body--carrossel.fc-body--stories .fc-slides {
      display: flex;
      flex-direction: column;
      gap: 3rem;
      align-items: center;
      margin-top: 1.5rem;
    }

    /* CADA STORY (desktop) */
    body.fc-body--carrossel.fc-body--stories .fc-slide {
      width: 1080px !important;
      max-width: 100%;
      aspect-ratio: 9 / 16 !important;

      border-radius: 32px;
      overflow: hidden;
      margin: 0 auto;

      display: flex;
      align-items: flex-start;
      justify-content: center;

      background:
        radial-gradient(circle at top,
          #b71c1c 0%,
          #5a0000 35%,
          #050505 100%);
      box-shadow:
        0 28px 60px rgba(0, 0, 0, 0.95),
        0 0 0 1px rgba(255, 255, 255, 0.02);
    }

    /* Área interna com safe zone de stories (desktop) */
    body.fc-body--carrossel.fc-body--stories .fc-slide__inner {
      width: 100%;
      height: 100%;
      box-sizing: border-box;

      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;

      padding: 160px 96px 200px;
    }

    /* Header (divisor) */
    body.fc-body--carrossel.fc-body--stories .fc-slide__header {
      width: 100%;
      margin-bottom: 48px;
    }

    /* HOOK – título do story (parte de cima) */
    body.fc-body--carrossel.fc-body--stories .fc-slide__hook {
      width: 100%;
      text-align: center;
      font-size: 3.4rem;
      font-weight: 900;
      line-height: 1.25;
      margin: 0 0 40px 0;
    }

    /* TEXTO – corpo no meio */
    body.fc-body--carrossel.fc-body--stories .fc-slide__text {
      width: 100%;
      text-align: center;
      font-size: 2.4rem;
      line-height: 1.35;
      font-weight: 500;
      opacity: 0.9;
      margin: 0;
      margin-bottom: auto;
    }

    /* CTA lá embaixo (se tiver) */
    body.fc-body--carrossel.fc-body--stories .fc-slide__footer {
      width: 100%;
      margin-top: 72px;
    }

    body.fc-body--carrossel.fc-body--stories .fc-slide__cta {
      text-align: center;
      font-size: 2rem;
      opacity: 0.85;
    }

    /* Hero da página de stories */
    body.fc-body--carrossel.fc-body--stories .fc-hero {
      max-width: 720px;
      margin: 0 auto 3rem auto;
    }

    /* ==============================
       MOBILE – FORÇA BRUTA NO LAYOUT
       ============================== */
    @media (max-width: 768px) {

      body.fc-body--carrossel.fc-body--stories .fc-main--carrossel.fc-main--stories {
        padding: 0 !important;
      }

      body.fc-body--carrossel.fc-body--stories .fc-hero {
        max-width: 100% !important;
        padding: 1rem 1.25rem 0 !important;
        margin: 0 0 0.5rem 0 !important;
      }

      body.fc-body--carrossel.fc-body--stories .fc-slides {
        gap: 0.75rem !important;
        margin-top: 0 !important;
        padding: 0 !important;
        align-items: stretch !important;
      }

      /* STORY vira praticamente fullscreen na largura */
      body.fc-body--carrossel.fc-body--stories .fc-slide {
        width: 100vw !important;
        max-width: 100vw !important;
        margin: 0 !important;
        border-radius: 0 !important;
        box-shadow: none !important;
        aspect-ratio: 9 / 16 !important;
      }

      /* safe zone mais compacta */
      body.fc-body--carrossel.fc-body--stories .fc-slide__inner {
        padding: 80px 24px 96px !important;
      }

      body.fc-body--carrossel.fc-body--stories .fc-slide__header {
        margin-bottom: 32px !important;
      }

      body.fc-body--carrossel.fc-body--stories .fc-slide__hook {
        font-size: 2.2rem !important;
        margin-bottom: 24px !important;
      }

      body.fc-body--carrossel.fc-body--stories .fc-slide__text {
        font-size: 1.5rem !important;
      }

      body.fc-body--carrossel.fc-body--stories .fc-slide__cta {
        font-size: 1.3rem !important;
      }
    }
  </style>
</head>

<body class="fc-body fc-body--carrossel fc-body--stories">

<header class="fc-topbar">
  <a class="fc-topbar__back" href="{{ '/' | relative_url }}">← Fábrica de Conteúdo</a>
  <span class="fc-topbar__badge">ST · Stories educacionais</span>
</header>

<!-- Botão de download -->
<button id="download-stories" class="fc-download-fixed" type="button">
  ↓ PNG
</button>

<main class="fc-main fc-main--carrossel fc-main--stories">

  <section class="fc-hero">
    <div class="fc-hero__tag">PIPELINE MD → PÁGINA → ARTE</div>
    <h1 class="fc-hero__title">{{ page.title }}</h1>

    {% if page.tagline %}
      <p class="fc-hero__subtitle">{{ page.tagline }}</p>
    {% endif %}

    {% if page.autor %}
      <p class="fc-hero__meta">Roteiro por {{ page.autor }}</p>
    {% endif %}

    <p class="fc-hero__hint">
      Cada bloco abaixo é um story vertical. Pense em cada um como 1080×1920 pra exportar em PNG/PDF.
    </p>
  </section>

  {% assign slides = page.slides | default: empty %}
  {% if slides and slides.size > 0 %}
    <section class="fc-slides">
      {% for s in slides %}
      {%- assign usa_midia = s.midia | default: false -%}

      <article class="fc-slide slide{% if usa_midia %} fc-slide--midia{% endif %}">
        <div class="fc-slide__inner">

          <header class="fc-slide__header">
            <div class="fc-slide-divider">
              <span class="fc-divider-line"></span>
              <span class="fc-divider-icon">◇</span>
              <span class="fc-divider-line"></span>
            </div>
          </header>

          {% if s.hook %}
            <h2 class="fc-slide__hook">
              {{ s.hook | newline_to_br }}
            </h2>
          {% endif %}

          {% if s.texto %}
            <p class="fc-slide__text">
              {{ s.texto | newline_to_br }}
            </p>
          {% endif %}

          {% if s.cta %}
            <footer class="fc-slide__footer">
              <p class="fc-slide__cta">
                {{ s.cta | newline_to_br }}
              </p>
            </footer>
          {% endif %}

        </div>
      </article>
      {% endfor %}
    </section>
  {% else %}
    <section class="fc-empty">
      <p>Nenhum story encontrado. Defina a lista <code>slides:</code> no front matter.</p>
    </section>
  {% endif %}

</main>

<footer class="fc-footer">
  Fábrica de Conteúdo · Stories prontos para exportação.
</footer>

<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
<script src="{{ '/assets/js/stories.js' | relative_url }}"></script>

</body>
</html>